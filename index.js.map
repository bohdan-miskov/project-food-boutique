{"version":3,"file":"index.js","sources":["../src/api/categoriesApi.ts","../src/ui/categorySelectRenderer.ts","../src/tsSections/filters.ts","../src/utils/optionsBuilder.ts","../src/ui/productModalRenderer.ts","../src/ui/catalogRenderer.ts","../src/utils/paginationArrayGenerator.ts","../src/pagination/pagination.ts","../src/utils/parametersByWidthCalculator.ts","../src/tsSections/products-catalog.ts","../src/ui/popularRenderer.ts","../src/tsSections/popular-products.ts","../src/ui/discountRenderer.ts","../src/tsSections/discount-products.ts"],"sourcesContent":["import axios from 'axios';\n\nexport const getCategories = async () => {\n  const response = await axios.get<string[]>(\n    'https://food-boutique.b.goit.study/api/products/categories'\n  );\n  return response.data;\n};\n","import { getCategories } from '../api/categoriesApi';\n\nexport const setCategoriesToSelect = async () => {\n  const categories = await getCategories();\n  const categotiesSelect = document.querySelector(\"[name='categoriesSelect']\");\n\n  categories.forEach(category => {\n    const option = document.createElement('option');\n    option.value = category;\n    option.textContent = category.split('_').join(' ');\n    categotiesSelect?.appendChild(option);\n  });\n};\n","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport { setCategoriesToSelect } from '../ui/categorySelectRenderer';\n\nsetCategoriesToSelect();\n\nconst baseSettings = {\n  showSearch: false,\n  allowDeselect: false,\n  hideSelected: true,\n  placeholderText: '',\n  closeOnSelect: true,\n};\n\nnew SlimSelect({\n  select: '#filters-categories-select',\n  settings: { ...baseSettings, ariaLabel: 'Choose product category' },\n});\n\ndocument\n  .querySelector<HTMLElement>('.ss-content')\n  ?.setAttribute('aria-label', 'Choose product category');\n\nnew SlimSelect({\n  select: '#filters-sort-select',\n  settings: { ...baseSettings, ariaLabel: 'Choose products sort mode' },\n});\n\nconst selectArray = <NodeListOf<HTMLElement>>(\n  document.querySelectorAll('.ss-content')\n);\n\nif (selectArray.length < 2) {\n  throw new Error('Filter selects is not found');\n}\n\nselectArray[0].setAttribute('aria-label', 'Choose product category');\nselectArray[1].setAttribute('aria-label', 'Choose products sort mode');\n","import { OptionsApi } from '../types/products';\n\nexport const createOptions = (\n  query: string,\n  category: string,\n  sort: string,\n  currentPage: number,\n  limit: number\n): OptionsApi => {\n  const options: OptionsApi = {\n    keyword: query,\n    page: currentPage,\n    limit,\n  };\n\n  if (category != 'all') {\n    options['category'] = category;\n  }\n\n  switch (sort) {\n    case 'popularity': {\n      options.byPopularity = true;\n      break;\n    }\n    case 'alph_asc': {\n      options.byABC = true;\n      break;\n    }\n    case 'alph_desc': {\n      options.byABC = false;\n      break;\n    }\n    case 'price_asc': {\n      options.byPrice = true;\n      break;\n    }\n    case 'price_desc': {\n      options.byPrice = false;\n      break;\n    }\n  }\n\n  return options;\n};\n","import { getProductById } from '../api/productsApi';\nimport { handlerAddProductToCart } from '../storage/cartStorage';\nimport { ProductDetails } from '../types/products';\nimport { openModal } from './modals';\n\nexport const renderProductModal = async (id: string) => {\n  const product = await getProductById(id);\n  const modalBackdrop = document.querySelector(\n    '.product-modal-backdrop'\n  ) as HTMLElement;\n  modalBackdrop.innerHTML = '';\n  modalBackdrop.appendChild(createProductModal(product));\n  openModal(modalBackdrop);\n};\n\nconst createProductModal = ({\n  _id,\n  img,\n  name,\n  category,\n  desc,\n  size,\n  price,\n  popularity,\n  is10PercentOff,\n}: ProductDetails) => {\n  const template = document.getElementById(\n    'product-modal-template'\n  ) as HTMLTemplateElement;\n\n  const clone = template.content.cloneNode(true) as DocumentFragment;\n\n  if (is10PercentOff) {\n    const itemEl = clone.querySelector('.product-modal-window') as HTMLElement;\n    itemEl.classList.add('is-discount');\n  }\n\n  const imageEl = clone.querySelector(\n    '.product-modal-image'\n  ) as HTMLImageElement;\n\n  imageEl.src = img;\n  imageEl.alt = name + ' image';\n\n  const titleEl = clone.querySelector('.product-modal-title') as HTMLElement;\n  titleEl.textContent = name;\n\n  const valuesEl = clone.querySelectorAll(\n    '.product-modal-descr-item-value'\n  ) as NodeListOf<HTMLElement>;\n  valuesEl[0].textContent = category.split('_').join(' ');\n  valuesEl[1].textContent = size;\n  valuesEl[2].textContent = popularity.toString();\n\n  const descEl = clone.querySelector(\n    '.product-modal-descr-text'\n  ) as HTMLElement;\n  descEl.textContent = desc;\n\n  const priceEl = clone.querySelector('.product-modal-price') as HTMLElement;\n  priceEl.textContent = '$' + price;\n\n  const buyBtnEl = clone.querySelector(\n    '.product-modal-btn'\n  ) as HTMLButtonElement;\n  buyBtnEl.addEventListener(\n    'click',\n    async (e: MouseEvent) => await handlerAddProductToCart(e, _id)\n  );\n\n  return clone;\n};\n","import { handlerAddProductToCart } from '../storage/cartStorage';\nimport { Product } from '../types/products';\nimport { renderProductModal } from './productModalRenderer';\n\nexport const renderCatalogProducts = (products: Product[]) => {\n  const productList = document.querySelector('.products-list') as HTMLElement;\n  productList.innerHTML = '';\n  const productEmptyContainerEl = document.querySelector(\n    '.products-empty-container'\n  ) as HTMLElement;\n\n  if (products.length === 0) {\n    productEmptyContainerEl.classList.remove('hidden');\n    return;\n  }\n\n  productEmptyContainerEl.classList.add('hidden');\n\n  products.forEach(product =>\n    productList.appendChild(createCatalogProductsItem(product))\n  );\n};\n\nconst createCatalogProductsItem = ({\n  _id,\n  img,\n  name,\n  category,\n  size,\n  price,\n  popularity,\n  is10PercentOff,\n}: Product) => {\n  const template = document.getElementById(\n    'products-card-template'\n  ) as HTMLTemplateElement;\n\n  const clone = template.content.cloneNode(true) as DocumentFragment;\n\n  const productItemEl = clone.querySelector('.products-item') as HTMLElement;\n  productItemEl.addEventListener('click', () => {\n    renderProductModal(_id);\n  });\n\n  if (is10PercentOff) {\n    const itemEl = clone.querySelector('.products-item') as HTMLElement;\n    itemEl.classList.add('is-discount');\n  }\n\n  const imageEl = clone.querySelector(\n    '.products-item-image'\n  ) as HTMLImageElement;\n  imageEl.src = img;\n  imageEl.alt = name + ' image';\n\n  const titleEl = clone.querySelector('.products-subtitle') as HTMLElement;\n  titleEl.textContent = name;\n\n  const valuesEl = clone.querySelectorAll(\n    '.products-item-descr-item-value'\n  ) as NodeListOf<HTMLElement>;\n  valuesEl[0].textContent = category.split('_').join(' ');\n  valuesEl[1].textContent = size;\n  valuesEl[2].textContent = popularity.toString();\n\n  const priceEl = clone.querySelector('.products-item-price') as HTMLElement;\n  priceEl.textContent = '$' + price;\n\n  const buyBtnEl = clone.querySelector(\n    '.products-item-btn'\n  ) as HTMLButtonElement;\n  buyBtnEl.addEventListener(\n    'click',\n    async (e: MouseEvent) => await handlerAddProductToCart(e, _id)\n  );\n\n  return clone;\n};\n","export const generatePaginationArray = (\n  current: number,\n  total: number,\n  max: number\n): number[] => {\n  const pages: number[] = [];\n\n  let start = Math.max(1, current - 1);\n  let end = start + max - 2;\n\n  if (end > total) {\n    end = total;\n    start = Math.max(1, end - max + 1);\n  }\n\n  for (let i = start; i <= end; i++) {\n    pages.push(i);\n  }\n\n  if (pages.length + 1 == total) {\n    pages.push(end + 1);\n  }\n\n  return pages;\n};\n","import { generatePaginationArray } from '../utils/paginationArrayGenerator';\n\nlet btnOnceLeft: HTMLButtonElement;\nlet btnAllLeft: HTMLButtonElement;\n\nlet btnOnceRight: HTMLButtonElement;\nlet btnAllRight: HTMLButtonElement;\n\nlet currentPage: number;\nlet totalPages: number;\n\nexport const renderProductsPagination = (\n  startPage: number,\n  total: number,\n  maxPaginCount: number,\n  searchFunction: (page: number) => void\n) => {\n  currentPage = startPage;\n  totalPages = total;\n\n  if (totalPages <= 1) {\n    const container = document.querySelector(\n      '.products-pagination-container'\n    ) as HTMLElement;\n\n    container.classList.add('hidden');\n    return;\n  }\n\n  const containerCenter = document.querySelector(\n    '.products-pagination-center-side'\n  ) as HTMLElement;\n\n  containerCenter.innerHTML = '';\n\n  const pages = generatePaginationArray(currentPage, totalPages, maxPaginCount);\n  const firstPageInRange = pages[0];\n  const lastPageInRange = pages[pages.length - 1];\n\n  // Показуємо ... ЗЛІВА, якщо є сторінки перед\n  if (firstPageInRange > 2 && currentPage > Math.floor(totalPages / 2)) {\n    addPaginBtn(createPaginDots(), containerCenter);\n  }\n\n  pages.forEach(page => {\n    addPaginBtn(createPaginBtn(page, searchFunction), containerCenter);\n  });\n\n  // Показуємо ... ПРАВОРУЧ, якщо ще є сторінки після\n  if (\n    lastPageInRange < totalPages - 1 &&\n    currentPage < Math.floor(totalPages / 2)\n  ) {\n    addPaginBtn(createPaginDots(), containerCenter);\n  }\n\n  updatePaginationBtns(totalPages);\n};\n\nconst createPaginDots = (): HTMLButtonElement => {\n  const dots = document.createElement('button');\n  dots.textContent = '...';\n  dots.disabled = true;\n  dots.classList.add('products-pagination-btn');\n  return dots;\n};\n\nconst createPaginBtn = (\n  page: number,\n  searchFunction: (currentPage: number) => void\n): HTMLButtonElement => {\n  const btn = document.createElement('button');\n  btn.classList.add('products-pagination-btn');\n  btn.textContent = page.toString();\n\n  if (page === currentPage) {\n    btn.classList.add('active');\n    btn.disabled = true;\n  }\n\n  btn.addEventListener('click', () => {\n    currentPage = page;\n    searchFunction(page);\n  });\n\n  return btn;\n};\n\nconst addPaginBtn = (\n  paginBtn: HTMLButtonElement,\n  paginContainer: HTMLElement\n) => {\n  const listItemDotsRightEl = document.createElement('li') as HTMLElement;\n  listItemDotsRightEl.appendChild(paginBtn);\n  paginContainer.appendChild(listItemDotsRightEl);\n};\n\nconst updatePaginationBtns = (totalPages: number) => {\n  const leftEnabled = currentPage > 1;\n  const rightEnabled = currentPage < totalPages;\n\n  btnOnceLeft.disabled = !leftEnabled;\n  btnAllLeft.disabled = !leftEnabled;\n  btnOnceRight.disabled = !rightEnabled;\n  btnAllRight.disabled = !rightEnabled;\n};\n\nexport const setPaginNavButtons = (searchFunction: (page: number) => void) => {\n  const pagLeftSide = document.querySelector(\n    '.products-pagination-left-side'\n  ) as HTMLElement;\n  const pagRightSide = document.querySelector(\n    '.products-pagination-right-side'\n  ) as HTMLElement;\n\n  btnOnceLeft = pagLeftSide.querySelector(\n    '.product-pagination-nav-btn.once'\n  ) as HTMLButtonElement;\n  btnAllLeft = pagLeftSide.querySelector(\n    '.product-pagination-nav-btn.all'\n  ) as HTMLButtonElement;\n\n  btnOnceRight = pagRightSide.querySelector(\n    '.product-pagination-nav-btn.once'\n  ) as HTMLButtonElement;\n  btnAllRight = pagRightSide.querySelector(\n    '.product-pagination-nav-btn.all'\n  ) as HTMLButtonElement;\n\n  btnOnceLeft.addEventListener('click', () => {\n    currentPage--;\n    searchFunction(currentPage);\n  });\n\n  btnAllLeft.addEventListener('click', () => {\n    currentPage = 1;\n    searchFunction(currentPage);\n  });\n\n  btnOnceRight.addEventListener('click', () => {\n    currentPage++;\n    searchFunction(currentPage);\n  });\n\n  btnAllRight.addEventListener('click', () => {\n    currentPage = totalPages;\n    searchFunction(currentPage);\n  });\n};\n","export const calculateMaxPaginCount = (): number => {\n  const container = document.querySelector('.container') as HTMLElement;\n  const width = container.getBoundingClientRect().width;\n\n  if (width >= 768) {\n    return 5;\n  }\n  return 3;\n};\n\nexport const calculatePerPageProductsCatalog = (): number => {\n  const container = document.querySelector('.container') as HTMLElement;\n  const width = container.getBoundingClientRect().width;\n\n  if (width >= 1440) {\n    return 9;\n  }\n  if (width >= 768) {\n    return 8;\n  }\n  return 6;\n};\n","import { getProductsByFilter } from '../api/productsApi';\nimport { createOptions } from '../utils/optionsBuilder';\nimport { renderCatalogProducts } from '../ui/catalogRenderer';\nimport {\n  renderProductsPagination,\n  setPaginNavButtons,\n} from '../pagination/pagination';\nimport {\n  calculateMaxPaginCount,\n  calculatePerPageProductsCatalog,\n} from '../utils/parametersByWidthCalculator';\n\nlet query = '';\nlet category = 'all';\nlet sort = 'popularity';\nconst limit = calculatePerPageProductsCatalog();\nconst maxPaginCount = calculateMaxPaginCount();\n\nconst handleSubmitSearch = async (e: Event) => {\n  e.preventDefault();\n\n  const form = e.target as HTMLFormElement;\n  const data = new FormData(form);\n  const currentPage = 1;\n  query = data.get('searchQueryInput')?.toString().trim() ?? '';\n  category = data.get('categoriesSelect')?.toString() ?? 'all';\n  sort = data.get('sortSelect')?.toString() ?? 'popularity';\n\n  await searchProducts(currentPage);\n};\n\nconst searchProducts = async (currentPage: number) => {\n  const options = createOptions(query, category, sort, currentPage, limit);\n  const response = await getProductsByFilter(options);\n  const products = response.results;\n  const totalPages = response.totalPages;\n\n  renderCatalogProducts(products);\n  renderProductsPagination(\n    currentPage,\n    totalPages,\n    maxPaginCount,\n    searchProducts\n  );\n};\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const productForm = document.querySelector(\n    '.filters-form'\n  ) as HTMLFormElement;\n  if (!productForm) return;\n  productForm.addEventListener('submit', handleSubmitSearch);\n  setPaginNavButtons(searchProducts);\n  const data = new FormData(productForm);\n\n  const currentPage = 1;\n  query = data.get('searchQueryInput')?.toString().trim() ?? '';\n  category = data.get('categoriesSelect')?.toString() ?? 'all';\n  sort = data.get('sortSelect')?.toString() ?? 'popularity';\n\n  await searchProducts(currentPage);\n});\n","import { getPopularProducts } from '../api/productsApi';\nimport { handlerAddProductToCart } from '../storage/cartStorage';\nimport { Product } from '../types/products';\nimport { renderProductModal } from './productModalRenderer';\n\nexport const populatePopularProductsList = async (count = -1) => {\n  const products = await getPopularProducts();\n  const usedProducts =\n    count === -1 ? products.slice(0) : products.slice(0, count);\n  const popularProductsList = document.querySelector(\n    '.popular-products-list'\n  ) as HTMLElement;\n  popularProductsList.innerHTML = '';\n\n  usedProducts.forEach(product =>\n    popularProductsList.appendChild(createPopularProductsItem(product))\n  );\n};\n\nconst createPopularProductsItem = ({\n  _id,\n  name,\n  category,\n  size,\n  popularity,\n  img,\n}: Omit<Product, 'price' | 'is10PercentOff'>): DocumentFragment => {\n  const template = document.getElementById(\n    'popular-card-template'\n  ) as HTMLTemplateElement;\n\n  const clone = template.content.cloneNode(true) as DocumentFragment;\n\n  const productItemEl = clone.querySelector(\n    '.popular-products-item'\n  ) as HTMLElement;\n  productItemEl.addEventListener('click', () => {\n    renderProductModal(_id);\n  });\n\n  const imageEl = clone.querySelector(\n    '.popular-products-item-image'\n  ) as HTMLImageElement;\n  imageEl.src = img;\n  imageEl.alt = name + ' image';\n\n  const titleEl = clone.querySelector(\n    '.popular-products-subtitle'\n  ) as HTMLElement;\n  titleEl.textContent = name;\n\n  const valuesEls = clone.querySelectorAll(\n    '.popular-products-item-descr-item-value'\n  ) as NodeListOf<HTMLElement>;\n  valuesEls[0].textContent = category.split('_').join(' ');\n  valuesEls[1].textContent = size;\n  valuesEls[2].textContent = String(popularity);\n\n  const buyBtnEl = clone.querySelector(\n    '.popular-products-item-btn'\n  ) as HTMLButtonElement;\n  buyBtnEl.addEventListener(\n    'click',\n    async (e: MouseEvent) => await handlerAddProductToCart(e, _id)\n  );\n\n  return clone;\n};\n","import { populatePopularProductsList } from '../ui/popularRenderer';\n\nconst popularProductsCount = 5;\npopulatePopularProductsList(popularProductsCount);\n","import { getDiscountProducts } from '../api/productsApi';\nimport { handlerAddProductToCart } from '../storage/cartStorage';\nimport { Product } from '../types/products';\nimport { renderProductModal } from './productModalRenderer';\n\nexport const populateDiscountProductsList = async (count = -1) => {\n  const products = await getDiscountProducts();\n\n  const usedProducts =\n    count === -1 ? products.slice(0) : products.slice(0, count);\n  const productsList = document.querySelector(\n    '.discount-products-list'\n  ) as HTMLElement;\n  productsList.innerHTML = '';\n\n  usedProducts.forEach(product =>\n    productsList.appendChild(createPopularProductsItem(product))\n  );\n};\n\nconst createPopularProductsItem = ({\n  _id,\n  name,\n  price,\n  img,\n}: Pick<Product, '_id' | 'name' | 'price' | 'img'>): DocumentFragment => {\n  const template = document.getElementById(\n    'discount-card-template'\n  ) as HTMLTemplateElement;\n\n  const clone = template.content.cloneNode(true) as DocumentFragment;\n\n  const productItemEl = clone.querySelector(\n    '.discount-products-item'\n  ) as HTMLElement;\n  productItemEl.addEventListener('click', () => {\n    renderProductModal(_id);\n  });\n\n  const imageEl = clone.querySelector(\n    '.discount-products-item-image'\n  ) as HTMLImageElement;\n  imageEl.src = img;\n  imageEl.alt = name + ' image';\n\n  const titleEl = clone.querySelector(\n    '.discount-products-subtitle'\n  ) as HTMLElement;\n  titleEl.textContent = name;\n\n  const priceEl = clone.querySelector(\n    '.discount-products-item-price'\n  ) as HTMLElement;\n  priceEl.textContent = '$' + price;\n\n  const buyBtnEl = clone.querySelector(\n    '.discount-products-item-btn'\n  ) as HTMLButtonElement;\n  buyBtnEl.addEventListener(\n    'click',\n    async (e: MouseEvent) => await handlerAddProductToCart(e, _id)\n  );\n\n  return clone;\n};\n","import { populateDiscountProductsList } from '../ui/discountRenderer';\n\nconst discountProductsCount = 2;\npopulateDiscountProductsList(discountProductsCount);\n"],"names":["getCategories","axios","setCategoriesToSelect","categories","categotiesSelect","category","option","baseSettings","SlimSelect","_a","selectArray","createOptions","query","sort","currentPage","limit","options","renderProductModal","id","product","getProductById","modalBackdrop","createProductModal","openModal","_id","img","name","desc","size","price","popularity","is10PercentOff","clone","imageEl","titleEl","valuesEl","descEl","priceEl","e","handlerAddProductToCart","renderCatalogProducts","products","productList","productEmptyContainerEl","createCatalogProductsItem","generatePaginationArray","current","total","max","pages","start","end","i","btnOnceLeft","btnAllLeft","btnOnceRight","btnAllRight","totalPages","renderProductsPagination","startPage","maxPaginCount","searchFunction","containerCenter","firstPageInRange","lastPageInRange","addPaginBtn","createPaginDots","page","createPaginBtn","updatePaginationBtns","dots","btn","paginBtn","paginContainer","listItemDotsRightEl","leftEnabled","rightEnabled","setPaginNavButtons","pagLeftSide","pagRightSide","calculateMaxPaginCount","calculatePerPageProductsCatalog","width","handleSubmitSearch","form","data","_b","_c","searchProducts","response","getProductsByFilter","productForm","populatePopularProductsList","count","getPopularProducts","usedProducts","popularProductsList","createPopularProductsItem","valuesEls","popularProductsCount","populateDiscountProductsList","getDiscountProducts","productsList","discountProductsCount"],"mappings":"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"}